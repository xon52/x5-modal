(function(t){function e(e){for(var o,r,l=e[0],s=e[1],c=e[2],u=0,m=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=l(l.s=n[0]))}return t}var o={},a={index:0},i=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d0ba51d":"9d9d629d","chunk-2d0c94eb":"0dad69f7","chunk-2d0d7862":"d8629810","chunk-2d0dd8bc":"79dcdea6","chunk-2d21ecb9":"492e6ef3"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=a[t]=[e,o]}));e.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.src=r(t);var c=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,n[1](c)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(n,o,function(e){return t[e]}.bind(null,o));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/x5-modal/",l.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("e35a")},"59f1":function(t,e,n){t.exports=n.p+"img/logo.4b4be503.svg"},8594:function(t,e,n){},a7e2:function(t,e,n){"use strict";var o=n("b021"),a=n.n(o);a.a},b021:function(t,e,n){},e35a:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("img",{staticClass:"logo",attrs:{src:n("59f1"),width:"300"}}),o("h1",{staticClass:"title"},[t._v("x5-Modal Example")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("plain")}}},[t._v("Plain")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("noButtons")}}},[t._v("No Buttons")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("double")}}},[t._v("Double")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("full")}}},[t._v("Full")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("download")}}},[t._v("Download")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("timeout")}}},[t._v("Download Timeout")]),o("hr"),o("p",[t._v("You can also customise modals from the open call itself:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.dataIn,expression:"dataIn"}],staticClass:"boxed",attrs:{placeholder:"Something to send",maxlength:"20"},domProps:{value:t.dataIn},on:{input:function(e){e.target.composing||(t.dataIn=e.target.value)}}}),o("button",{staticClass:"button",attrs:{disabled:!t.dataIn},on:{click:t.interactive}},[t._v("Interactive")]),t.dataOut?o("p",[t._v(" And it returned: "),o("span",{staticClass:"boxed greyed"},[t._v(t._s(t.dataOut?t.dataOut+" 😀":"Nothing returned 😥"))])]):t._e(),o("hr"),o("p",[t._v("If you use vue-router and change the route, it automatically closes any open modals.")]),t._m(0),o("router-view"),o("x5-modals")],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("If you'd like to disable this function, use the "),n("code",[t._v("keepOpen")]),t._v(" option.")])}],r=(n("d3b7"),n("4795"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return t.$x5.openModal("double2")}}},[t._v("Open Second Modal")])}),l=[],s={name:"DoubleModal",created:function(){this.$emit("setOptions",{title:"Double Modal",buttons:"cancel"})},mounted:function(){this.$x5.registerModal("double2",(function(){return n.e("chunk-2d21ecb9").then(n.bind(null,"d6a2"))}))}},c=s,u=n("2877"),d=Object(u["a"])(c,r,l,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("Hokay so, what does this one have?")]),n("ul",[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),n("li",[t._v(" You can open other modals from an inline click command "),n("code",[t._v("@click=\"$x5.openModal('plain')\"")]),n("a",{on:{click:function(e){return t.$x5.openModal("plain")}}},[t._v("here")])]),n("li",[t._v(" You can set the plugin to a loading mode via "),n("code",[t._v("$emit('setLoading', true)")]),t._v(": "),n("a",{on:{click:t.load}},[t._v("Try it")])]),t._m(6),n("li",[t._v(" You can also change options on the fly using "),n("code",[t._v("$emit('editOptions', {options})")]),n("a",{on:{click:function(e){return t.edit("title","Bathroom Sink")}}},[t._v("like so")])])]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:[function(e){var n=t.checked,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);o.checked?r<0&&(t.checked=n.concat([i])):r>-1&&(t.checked=n.slice(0,r).concat(n.slice(r+1)))}else t.checked=a},function(e){return t.edit("valid",e.target.checked)}]}}),t._v(" Validation: "+t._s(t.checked?"R":"Not r")+"eady to send")])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v("A "),n("code",[t._v("title")]),t._v(' of "Kitchen Sink" that gives us the header bar')])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v("It's "),n("code",[t._v("permanent")]),t._v(" (try close it without the buttons)")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v("Being "),n("code",[t._v("permanent")]),t._v(" also removes the close button ↗")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v("Set "),n("code",[t._v("max-width")]),t._v(' of "800px" (default is "650px")')])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("code",[t._v("buttons")]),t._v(' set to "OKCancel" (OK and Cancel)')])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("code",[t._v("okText")]),t._v(' set to "Send" and '),n("code",[t._v("cancelText")]),t._v(' to "Don\'t Send"')])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v("To enable the OK (Send) button the "),n("code",[t._v("valid")]),t._v(" attribute needs to be TRUE (check the checkbox)")])}],f={name:"FullModal",data:function(){return{checked:!1}},methods:{load:function(){var t=this;this.$emit("setLoading",!0),setTimeout((function(){return t.$emit("setLoading",!1)}),2e3)},edit:function(t,e){var n={};n[t]=e,this.$emit("editOptions",n)}},created:function(){this.$emit("setOptions",{valid:!1,buttons:"OKCancel",cancelText:"Don't Send",okText:"Send",permanent:!0,title:"Kitchen Sink",width:"800px"})}},v=f,x=Object(u["a"])(v,p,h,!1,null,null,null),b=x.exports,g={name:"Example-App",data:function(){return{dataOut:null,dataIn:null}},methods:{interactive:function(){var t=this;this.$x5.openModal("interactive",this.dataIn).then((function(e){t.dataOut=e}))}},created:function(){this.$x5.registerModal("full",b),this.$x5.registerModal("double",m),this.$x5.registerModal("plain",(function(){return n.e("chunk-2d0ba51d").then(n.bind(null,"3769"))})),this.$x5.registerModal("interactive",(function(){return n.e("chunk-2d0d7862").then(n.bind(null,"76d1"))})),this.$x5.registerModal("noButtons",(function(){return n.e("chunk-2d0c94eb").then(n.bind(null,"591b"))})),this.$x5.registerModal("route",(function(){return n.e("chunk-2d0dd8bc").then(n.bind(null,"829e"))})),this.$x5.registerModal("download",(function(){return new Promise((function(t){return setTimeout((function(){return t(n.e("chunk-2d0ba51d").then(n.bind(null,"3769")))}),3e3)}))})),this.$x5.registerModal("timeout",(function(){return new Promise((function(t){return setTimeout((function(){return t(n.e("chunk-2d0ba51d").then(n.bind(null,"3769")))}),6e3)}))}))}},_=g,O=(n("a7e2"),Object(u["a"])(_,a,i,!1,null,null,null)),k=O.exports,w=n("2f62");o["a"].use(w["a"]);var y=new w["a"].Store({state:{},mutations:{},actions:{},modules:{}}),$=n("8c4f"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Route A")]),n("router-link",{staticClass:"button",attrs:{tag:"button",to:"/b"}},[t._v("Goto Route B")])],1)},C=[],E={},T=Object(u["a"])(E,M,C,!1,null,null,null),j=T.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Route B")]),n("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("route")}}},[t._v("Open Modal")])])},P=[],S={},A=Object(u["a"])(S,I,P,!1,null,null,null),L=A.exports;o["a"].use($["a"]);var D=new $["a"]({mode:"history",base:"/x5-modal/",routes:[{path:"",alias:"/a",component:j},{path:"/b",component:L}],scrollBehavior:function(t,e,n){return t.hash?t.hash:n||{x:0,y:0}}}),N=D,R=(n("4de4"),n("7db0"),n("4160"),n("b0c0"),n("159b"),n("5530")),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"x5-m-fade",tag:"div"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.modals.length>0,expression:"modals.length > 0"}],staticClass:"x5-m-wrapper",style:"z-index:"+t.zIndex},[n("transition",{attrs:{name:"x5-m-fade",tag:"div"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"x5-m-loading",style:"z-index:"+t.modals.length},[n("div",{staticClass:"x5-m-spinner"})])]),n("transition",{attrs:{name:"x5-m-fade",tag:"div"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"x5-m-overlay",style:"z-index:"+(t.modals.length-1),on:{click:function(e){return e.target!==e.currentTarget?null:t.onOverlay(e)}}})]),t._l(t.modals,(function(t,e){return n("x5-modal",{key:t.name,ref:t.name,refInFor:!0,style:"z-index:"+e,attrs:{modal:t}})}))],2)])},G=[],B=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"x5-m-fade",tag:"div"}},[t.modalComponent?n("div",{class:"x5-m-modal "+(this.attention?"x5-m-attention":""),style:"width:"+t.options.width},[n("transition",{attrs:{name:"x5-m-expand"}},[t.options.title?n("div",{staticClass:"x5-m-header"},[n("div",{staticClass:"x5-m-title",domProps:{innerHTML:t._s(t.options.title)}}),t.options.permanent?t._e():n("span",{staticClass:"x5-m-close",on:{click:function(e){return e.target!==e.currentTarget?null:t.cancel(e)}}},[t._v("❌")])]):t._e()]),n("div",{staticClass:"x5-m-content"},[n(t.modalComponent,{tag:"component",attrs:{data:t.modal.data},on:{setOptions:t.setOptions,editOptions:t.editOptions,setLoading:t.setLoading}})],1),n("transition",{attrs:{name:"x5-m-expand"}},[t.options.buttons?n("div",{staticClass:"x5-m-footer"},[t.showCancel?n("button",{on:{click:t.cancel}},[t._v(t._s(t._cancelText))]):t._e(),t.showOK?n("button",{staticClass:"x5-m-ok",attrs:{disabled:!t.options.valid},on:{click:t.ok}},[t._v(" "+t._s(t.options.okText)+" ")]):t._e()]):t._e()])],1):t._e()])}),V=[],z=(n("caad"),n("2532"),n("3ca3"),n("ddb0"),n("53ca")),Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"x5-modal-error"},[t._v("⚠️ There was a problem loading this modal content.")])},q=[],F={name:"x5-modal-error"},H=F,J=Object(u["a"])(H,Y,q,!1,null,null,null),W=J.exports,U={buttons:"ok",cancelText:"Cancel",cancelValue:!1,keepOpen:!1,loading:!1,okText:"OK",okValue:!0,onCancel:function(){},onClose:function(){},onOK:function(){},permanent:!1,title:null,valid:!0,width:"650px"},Q={name:"x5-m-modal",components:{ModalError:W},props:{modal:{type:Object,required:!0}},data:function(){return{attention:!1,componentOptions:{},modalComponent:null}},computed:{options:function(t){return Object(R["a"])({},U,{},t.componentOptions,{},t.modal.options)},_cancelText:function(t){return"Cancel"===t.options.buttons&&"Cancel"===t.options.cancelText?"Close":t.options.cancelText},showCancel:function(t){return t.options.buttons.toLowerCase().includes("cancel")},showOK:function(t){return t.options.buttons.toLowerCase().includes("ok")},isActive:function(t){return t.$store.getters["x5/m/active"]===t.modal.name}},methods:{setOptions:function(t){this.componentOptions=t},editOptions:function(t){this.componentOptions=Object(R["a"])({},this.componentOptions,{},t)},setLoading:function(t){t?this.$store.dispatch("x5/m/loading",this.modal.name):this.$store.dispatch("x5/m/loaded",this.modal.name)},close:function(t){this.options.onClose(t),this.$x5.closeModal(this.name,t)},cancel:function(){this.options.onCancel(this.cancelValue),this.options.keepOpen||this.close(this.options.cancelValue)},ok:function(){this.options.onOK(this.modal.okValue),this.options.keepOpen||this.close(this.options.okValue)},denyClose:function(){var t=this;this.attention=!0,setTimeout((function(){return t.attention=!1}),150)},onOverlay:function(){this.isActive&&!this.options.permanent?this.cancel():this.denyClose()},loadComponent:function(){var t=this,e=new Promise((function(t,e){return setTimeout((function(){return e("Modal content took too long to load.")}),5e3)})),n=new Promise((function(e){"object"===Object(z["a"])(t.modal.component)?e(t.modal.component):t.modal.component().then((function(t){return e(t["default"])}))}));Promise.race([e,n]).then((function(e){return t.modalComponent=e}))["catch"]((function(){return t.modalComponent=W}))["finally"]((function(){return t.$store.dispatch("x5/m/loaded","".concat(t.modal.name,"-component"))}))}},watch:{$route:function(){this.options.keepOpen||this.$x5.closeModal(this.name)}},mounted:function(){this.loadComponent()},beforeDestroy:function(){this.setLoading(!1),this.isActive&&this.$x5.closeModal(this.modal.name)}},X=Q,Z=Object(u["a"])(X,B,V,!1,null,null,null),tt=Z.exports,et={name:"x5-M-Component",components:{x5Modal:tt},props:{zIndex:{type:[String,Number],default:200}},computed:{loading:function(t){return t.$store.getters["x5/m/loading"]},modals:function(t){return t.$store.getters["x5/m/allOpen"]}},methods:{onOverlay:function(){var t=this.$store.getters["x5/m/active"];t&&this.$refs[t][0].onOverlay()}}},nt=et,ot=Object(u["a"])(nt,K,G,!1,null,null,null),at=ot.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",{staticClass:"x5-modal-error"},[t._v(" ⚠️ x5-modal Plugin Warning :: v0.3.0 has removed the <x5-modal> wrapper. Please see "),n("a",{attrs:{href:"https://github.com/xon52/x5-modal/blob/master/MIGRATION.md"}},[t._v("here")]),t._v(" for update instructions. ")])])}],lt={name:"x5-m-legacy-modal",mounted:function(){console.warn("x5-modal Plugin :: v0.3.0 has removed the <x5-modal> wrapper.\nPlease see https://github.com/xon52/x5-modal/blob/master/MIGRATION.md to update.")}},st=lt,ct=Object(u["a"])(st,it,rt,!1,null,null,null),ut=ct.exports,dt=(n("c740"),n("a434"),{namespaced:!0,state:{registered:{},open:[],loading:[]},getters:{loading:function(t){return t.loading.length>0},active:function(t){return t.open.length>0?t.open[t.open.length-1].name:null},allOpen:function(t){return t.open},allRegistered:function(t){return t.registered}},mutations:{OPEN:function(t,e){var n=e.name,o=e.options,a=e.data,i=e.resolve,r=t.registered[n];t.open.push({name:n,options:o,data:a,resolve:i,component:r})},EDIT:function(t,e){var n=e.name,o=e.options,a=e.data,i=t.open.findIndex((function(t){return t.name===n})),r=Object(R["a"])({},t.open[i].options,{},o),l=a||t.open[i].data;t.open.splice(i,1,Object(R["a"])({},t.open[i],{options:r,data:l}))},LOADED:function(t,e){return t.loading=t.loading.filter((function(t){return t!==e}))},LOADING:function(t,e){return t.loading.push(e)},CLOSE:function(t,e){return t.open=t.open.filter((function(t){return t.name!==e}))},REGISTER:function(t,e){var n=e.name,o=e.component;return t.registered[n]=o}},actions:{register:function(t,e){var n=t.commit;return n("REGISTER",e)},open:function(t,e){var n=t.commit;n("OPEN",e),n("LOADING","".concat(e.name,"-component"))},edit:function(t,e){var n=t.commit;return n("EDIT",e)},close:function(t,e){var n=t.commit;return n("CLOSE",e)},loading:function(t,e){var n=t.commit;return n("LOADING",e)},loaded:function(t,e){var n=t.commit;return n("LOADED",e)}}}),mt=dt,pt=(n("8594"),function(t){}),ht=function(t,e){if(!e)throw new Error("A Vuex store is required by the x5Modal plugin");e.registerModule("x5/m",mt),t.component("x5Modal",ut),t.component("x5Modals",at);var n=function(t,n){var o=!!e.getters["x5/m/allRegistered"][t];o&&pt("Modal '".concat(t,"' already registered; it will be replaced.")),e.dispatch("x5/m/register",{name:t,component:n})},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!!e.getters["x5/m/allRegistered"][t];if(!a)return pt("Modal '".concat(t,"' not registered."));n&&(n.title||n.buttons)&&pt('⚠️ x5-modal Plugin Warning :: v0.3.0 has swapped the order of data and options in the $x5.openModal() command. Please see\n      <a href="https://github.com/xon52/x5-modal/blob/master/MIGRATION.md">here</a> for update instructions.');var i,r=!!e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(r)return pt("Modal '".concat(t,"' already open."));var l=new Promise((function(t){return i=t}));return e.dispatch("x5/m/open",{name:t,data:n,options:o,resolve:i}),l},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!!e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(!a)return pt("Modal '".concat(t,"' cannot be edited until it is open."));e.dispatch("x5/m/edit",{name:t,data:n,options:o})},i=function(t,n){if(t||(t=e.getters["x5/m/active"]),t){var o=e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(!o)return pt("Modal '".concat(t,"' not found."));o.resolve(n),e.dispatch("x5/m/close",t)}},r=function(){return e.getters["x5/m/allOpen"].filter((function(t){return!t.options.keepOpen})).forEach((function(t){pt("Modal '".concat(t.name,"' force closed.")),i(t.name)}))};t.prototype.$x5=Object(R["a"])({},t.prototype.$x5,{registerModal:n,openModal:o,editModal:a,closeModal:i,closeModals:r})};o["a"].use(ht,y),o["a"].config.productionTip=!1,new o["a"]({router:N,store:y,render:function(t){return t(k)}}).$mount("#app")}});
//# sourceMappingURL=index.cb0aabe6.js.map