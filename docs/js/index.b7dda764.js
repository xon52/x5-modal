(function(e){function t(t){for(var o,r,l=t[0],c=t[1],s=t[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={index:0},i=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ba51d":"4c3088b5","chunk-2d0c94eb":"c5e1e782","chunk-2d0dd8bc":"5de08457","chunk-652dedfd":"bc2f27ef"}[e]+".js"}function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=r(e);var s=new Error;i=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/x5-modal/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("e35a")},"59f1":function(e,t,n){e.exports=n.p+"img/logo.4b4be503.svg"},8594:function(e,t,n){},a7e2:function(e,t,n){"use strict";var o=n("b021"),a=n.n(o);a.a},b021:function(e,t,n){},e35a:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wrapper"},[o("img",{staticClass:"logo",attrs:{src:n("59f1"),width:"300"}}),o("h1",{staticClass:"title"},[e._v("x5-Modal Example")]),o("button",{staticClass:"button",on:{click:function(t){return e.$x5.openModal("plain")}}},[e._v("Plain")]),o("button",{staticClass:"button",on:{click:function(t){return e.$x5.openModal("noButtons")}}},[e._v("No Buttons")]),o("button",{staticClass:"button",on:{click:function(t){return e.$x5.openModal("double")}}},[e._v("Double")]),o("button",{staticClass:"button",on:{click:function(t){return e.$x5.openModal("full")}}},[e._v("Full")]),o("hr"),o("p",[e._v("You can also customise modals from the open call itself:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.dataIn,expression:"dataIn"}],staticClass:"boxed",attrs:{placeholder:"Something to send",maxlength:"20"},domProps:{value:e.dataIn},on:{input:function(t){t.target.composing||(e.dataIn=t.target.value)}}}),o("button",{staticClass:"button",on:{click:e.interactive}},[e._v("Interactive")]),o("p",[e._v(" And it returned: "),o("span",{staticClass:"boxed greyed"},[e._v(e._s(e.dataOut?e.dataOut+" 😀":"Nothing returned 😥"))])]),o("hr"),o("p",[e._v("We also disable back buttons when a modal is opened.")]),o("p",[e._v("Not ideal, but without it the modal persists even when the route changes.")]),o("router-view"),o("x5-modals")],1)},i=[],r=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("x5-modal",{attrs:{name:"double",buttons:"Cancel",permanent:"",title:"Double Modal"}},[n("h1",[e._v("Double Modal")]),n("button",{on:{click:e.openModal2}},[e._v("Open Second Modal")])])}),l=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("x5-modal",{attrs:{name:"double2",buttons:"Cancel",permanent:"",title:"Double Modal the Second"}},[n("h1",[e._v("Double Modal the Second")]),n("button",{on:{click:e.openFullModal}},[e._v("Open Full Modal")])])},s=[],u={name:"DoubleModal2",methods:{openFullModal:function(){this.$x5.openModal("full",{},4)}}},d=u,p=n("2877"),f=Object(p["a"])(d,c,s,!1,null,null,null),h=f.exports,m={name:"DoubleModal",methods:{openModal2:function(){this.$x5.openModal("double2")}},mounted:function(){this.$x5.registerModal("double2",h)}},v=m,b=Object(p["a"])(v,r,l,!1,null,null,null),x=b.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("x5-modal",{attrs:{loading:e.loading,valid:e.checked,buttons:"OKCancel",cancelText:"Don't Send",name:"full",okText:"Send",permanent:"",title:"Kitchen Sink",width:"800px","z-index":"10"}},[n("p",[e._v("Hokay so, what does this one have?")]),n("ul",[n("li",[e._v("A "),n("code",[e._v("title")]),e._v(' of "Kitchen Sink" that gives us the header bar')]),n("li",[e._v("It's "),n("code",[e._v("permanent")]),e._v("/persistant (try close it without the buttons)")]),n("li",[e._v("Being permanent/persistant also removes the close button ↗")]),n("li",[e._v("Set "),n("code",[e._v("max")]),e._v('-width of "800px" (default is "650px")')]),n("li",[n("code",[e._v("OKCancel")]),e._v(" buttons (OK and Cancel)")]),n("li",[n("code",[e._v("okText")]),e._v(' of "Send" and '),n("code",[e._v("cancelText")]),e._v(' of "Don\'t Send"')]),n("li",[e._v(" Can open other modals from an inline click command "),n("code",[e._v("@click=\"$x5.openModal('plain')\"")]),n("a",{on:{click:function(t){return e.$x5.openModal("plain")}}},[e._v("here")])]),n("li",[e._v("The "),n("code",[e._v("zIndex")]),e._v(' is set to "10" so it remains below the opened modal (default zIndex of "200")')]),n("li",[e._v("All modals have a "),n("code",[e._v("loading")]),e._v(" attribute: "),n("a",{on:{click:e.load}},[e._v("Try it")])]),n("li",[e._v("To enable the OK (Send) button the "),n("code",[e._v("valid")]),e._v(" attribute needs to be TRUE (check the checkbox)")]),n("li",[e._v(" You can also change properties on the fly using "),n("code",[e._v("$x5.editModal(name, options, data)")]),n("a",{on:{click:e.edit}},[e._v("like so")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,o=t.target,a=!!o.checked;if(Array.isArray(n)){var i=null,r=e._i(n,i);o.checked?r<0&&(e.checked=n.concat([i])):r>-1&&(e.checked=n.slice(0,r).concat(n.slice(r+1)))}else e.checked=a}}}),n("label",{attrs:{for:"checkbox"}},[e._v("Validation: "+e._s(e.checked?"Now":"Not")+" ready to send")])])},_=[],k=(n("4795"),{name:"FullModal",data:function(){return{loading:!1,checked:!1}},methods:{load:function(){var e=this;this.loading=!0,setTimeout((function(){return e.loading=!1}),2e3)},edit:function(){this.$x5.editModal("full",{title:"Bathroom Sink"})}}}),y=k,M=Object(p["a"])(y,g,_,!1,null,null,null),O=M.exports,w={name:"Example-App",data:function(){return{dataOut:null,dataIn:null}},methods:{interactive:function(){var e=this;this.$x5.openModal("interactive",{},this.dataIn).then((function(t){e.dataOut=t}))}},created:function(){this.$x5.registerModal("double",x),this.$x5.registerModal("full",O),this.$x5.registerModal("interactive",(function(){return n.e("chunk-652dedfd").then(n.bind(null,"76d1"))})),this.$x5.registerModal("noButtons",(function(){return n.e("chunk-2d0c94eb").then(n.bind(null,"591b"))})),this.$x5.registerModal("plain",(function(){return n.e("chunk-2d0ba51d").then(n.bind(null,"3769"))})),this.$x5.registerModal("route",(function(){return n.e("chunk-2d0dd8bc").then(n.bind(null,"829e"))}))}},C=w,$=(n("a7e2"),Object(p["a"])(C,a,i,!1,null,null,null)),S=$.exports,T=n("2f62");o["a"].use(T["a"]);var E=new T["a"].Store({state:{},mutations:{},actions:{},modules:{}}),j=n("8c4f"),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Route A")]),n("router-link",{staticClass:"button",attrs:{tag:"button",to:"/b"}},[e._v("Goto Route B")])],1)},P=[],A={},K=Object(p["a"])(A,I,P,!1,null,null,null),B=K.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Route B")]),n("button",{staticClass:"button",on:{click:function(t){return e.$x5.openModal("route")}}},[e._v("Open Modal")])])},R=[],N={},z=Object(p["a"])(N,D,R,!1,null,null,null),V=z.exports;o["a"].use(j["a"]);var F=new j["a"]({mode:"history",base:"/x5-modal/",routes:[{path:"",alias:"/a",component:B},{path:"/b",component:V}],scrollBehavior:function(e,t,n){return e.hash?e.hash:n||{x:0,y:0}}}),L=F,q=(n("4de4"),n("7db0"),n("4160"),n("b0c0"),n("159b"),n("5530")),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:"z-index:"+e.zIndex},[n("transition-group",{attrs:{name:"x5-m-fade",mode:"out-in",tag:"div"}},e._l(e.modals,(function(e){return n(e.component,{key:e.name,tag:"component",attrs:{data:e.data}})})),1)],1)},H=[],J=(n("a9e3"),{name:"x5-M-Component",props:{zIndex:{type:[String,Number],default:200}},computed:{modals:function(){return this.$store.getters["x5/m/allOpen"]}}}),Y=J,U=Object(p["a"])(Y,G,H,!1,null,null,null),W=U.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"x5-m-wrapper "+(e.isActive?"x5-m-overlay":""),on:{click:function(t){return t.target!==t.currentTarget?null:e.onOverlay(t)}}},[n("div",{class:"x5-m-modal "+(this.attention?"x5-m-attention":""),style:"max-width:"+e.options.width},[e.options.title?n("div",{staticClass:"x5-m-header"},[n("div",{staticClass:"x5-m-title",domProps:{innerHTML:e._s(e.options.title)}}),e.options.permanent?e._e():n("span",{staticClass:"x5-m-close",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[e._v("❌")])]):e._e(),n("div",{staticClass:"x5-m-content"},[e._t("default")],2),e.options.buttons?n("div",{staticClass:"x5-m-footer"},[e.showCancel?n("button",{attrs:{disabled:e.options.loading},on:{click:e.cancel}},[e._v(e._s(e._cancelText))]):e._e(),e.showOK?n("button",{staticClass:"x5-m-ok",attrs:{disabled:!e.options.valid||e.options.loading},on:{click:e.ok}},[e._v(" "+e._s(e.options.okText)+" ")]):e._e()]):e._e(),n("transition",{attrs:{name:"x5-m-fade"}},[e.options.loading?n("div",{staticClass:"x5-m-loading-wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.denyClose(t)}}},[n("div",{staticClass:"x5-m-loading"},[n("div",{staticClass:"x5-m-spinner"})])]):e._e()])],1)])},X=[],Z=(n("caad"),n("2532"),["OK","Cancel","OKCancel"]),ee={name:"x5-M-Component",props:{buttons:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"},cancelValue:{default:!1},keepOpen:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},name:{type:String,required:!0},okText:{type:String,default:"OK"},okValue:{default:!0},permanent:{type:Boolean,default:!1},title:{type:String,default:null},valid:{type:Boolean,default:!0},width:{type:String,default:"650px"}},data:function(){return{attention:!1}},computed:{modal:function(e){return e.$store.getters["x5/m/allOpen"].find((function(t){return t.name===e.name}))},options:function(e){return e.modal?Object(q["a"])({},e.$props,{},e.modal.options):{}},_cancelText:function(e){return"Cancel"===e.options.buttons&&"Cancel"===e.options.cancelText?"Close":e.options.cancelText},showCancel:function(e){return e.options.buttons.includes("Cancel")},showOK:function(e){return e.options.buttons.includes("OK")},isActive:function(e){return e.$store.getters["x5/m/active"]===e.name}},methods:{close:function(e){this.$x5.closeModal(this.name,e)},cancel:function(){this.$emit("cancel"),this.options.keepOpen||this.close(this.options.cancelValue)},denyClose:function(){var e=this;this.attention=!0,setTimeout((function(){return e.attention=!1}),150)},onOverlay:function(){!this.isActive||this.options.loading||this.options.permanent?this.denyClose():this.cancel()},ok:function(){this.$emit("ok"),this.options.keepOpen||this.close(this.options.okValue)}},mounted:function(){if(this.options.buttons&&!Z.includes(this.options.buttons))throw new Error("Invalid buttons property '".concat(Z,"' used in x5Modal Plugin."))},beforeDestroy:function(){this.isActive&&this.$x5.closeModal(this.name)},watch:{$route:function(){this.options.keepOpen||this.$x5.closeModal(this.name)}}},te=ee,ne=Object(p["a"])(te,Q,X,!1,null,null,null),oe=ne.exports,ae=(n("c740"),n("a434"),{namespaced:!0,state:{registered:{},open:[]},getters:{active:function(e){return e.open.length>0?e.open[e.open.length-1].name:null},allOpen:function(e){return e.open},allRegistered:function(e){return e.registered}},mutations:{OPEN:function(e,t){var n=t.name,o=t.options,a=t.data,i=t.resolve,r=e.registered[n];e.open.push({name:n,options:o,data:a,resolve:i,component:r})},EDIT:function(e,t){var n=t.name,o=t.options,a=t.data,i=e.open.findIndex((function(e){return e.name===n})),r=Object(q["a"])({},e.open[i].options,{},o),l=a||e.open[i].data;e.open.splice(i,1,Object(q["a"])({},e.open[i],{options:r,data:l}))},CLOSE:function(e,t){return e.open=e.open.filter((function(e){return e.name!==t}))},REGISTER:function(e,t){var n=t.name,o=t.component;return e.registered[n]=o}},actions:{register:function(e,t){var n=e.commit;return n("REGISTER",t)},open:function(e,t){var n=e.commit;return n("OPEN",t)},edit:function(e,t){var n=e.commit;return n("EDIT",t)},close:function(e,t){var n=e.commit;return n("CLOSE",t)}}}),ie=ae,re=(n("8594"),function(e){}),le=function(e,t){if(!t)throw new Error("A Vuex store is required by the x5Modal plugin");t.registerModule("x5/m",ie),e.component("x5Modal",oe),e.component("x5Modals",W);var n=function(e,n){var o=!!t.getters["x5/m/allRegistered"][e];o&&re("Modal '".concat(e,"' already registered; it will be replaced.")),t.dispatch("x5/m/register",{name:e,component:n})},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!!t.getters["x5/m/allRegistered"][e];if(!a)return re("Modal '".concat(e,"' not registered."));var i,r=!!t.getters["x5/m/allOpen"].find((function(t){return t.name===e}));if(r)return re("Modal '".concat(e,"' already open."));var l=new Promise((function(e){return i=e}));return t.dispatch("x5/m/open",{name:e,options:n,data:o,resolve:i}),l},a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!!t.getters["x5/m/allOpen"].find((function(t){return t.name===e}));if(!a)return re("Modal '".concat(e,"' cannot be edited until it is open."));t.dispatch("x5/m/edit",{name:e,options:n,data:o})},i=function(e,n){e||(e=t.getters["x5/m/active"]);var o=t.getters["x5/m/allOpen"].find((function(t){return t.name===e}));if(!o)return re("Modal '".concat(e,"' not found."));o.resolve(n),t.dispatch("x5/m/close",e)},r=function(){return t.getters["x5/m/allOpen"].filter((function(e){return!e.options.keepOpen})).forEach((function(e){re("Modal '".concat(e.name,"' force closed.")),i(e.name)}))};e.prototype.$x5=Object(q["a"])({},e.prototype.$x5,{registerModal:n,openModal:o,editModal:a,closeModal:i,closeModals:r})};o["a"].use(le,E),o["a"].config.productionTip=!1,new o["a"]({router:L,store:E,render:function(e){return e(S)}}).$mount("#app")}});
//# sourceMappingURL=index.b7dda764.js.map