(function(t){function e(e){for(var o,r,l=e[0],c=e[1],s=e[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=l(l.s=n[0]))}return t}var o={},a={index:0},i=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-2d0ba51d":"4c3088b5","chunk-2d0c94eb":"c5e1e782","chunk-2d0dd8bc":"5de08457","chunk-652dedfd":"bc2f27ef"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=a[t]=[e,o]}));e.push(n[2]=o);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=r(t);var s=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(n,o,function(e){return t[e]}.bind(null,o));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/x5-modal/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("e35a")},"59f1":function(t,e,n){t.exports=n.p+"img/logo.4b4be503.svg"},8594:function(t,e,n){},a7e2:function(t,e,n){"use strict";var o=n("b021"),a=n.n(o);a.a},b021:function(t,e,n){},e35a:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrapper"},[o("img",{staticClass:"logo",attrs:{src:n("59f1"),width:"300"}}),o("h1",{staticClass:"title"},[t._v("x5-Modal Example")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("plain")}}},[t._v("Plain")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("noButtons")}}},[t._v("No Buttons")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("double")}}},[t._v("Double")]),o("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("full")}}},[t._v("Full")]),o("hr"),o("p",[t._v("You can also customise modals from the open call itself:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.dataIn,expression:"dataIn"}],staticClass:"boxed",attrs:{placeholder:"Something to send",maxlength:"20"},domProps:{value:t.dataIn},on:{input:function(e){e.target.composing||(t.dataIn=e.target.value)}}}),o("button",{staticClass:"button",on:{click:t.interactive}},[t._v("Interactive")]),o("p",[t._v(" And it returned: "),o("span",{staticClass:"boxed greyed"},[t._v(t._s(t.dataOut?t.dataOut+" 😀":"Nothing returned 😥"))])]),o("hr"),o("p",[t._v("We also disable back buttons when a modal is opened.")]),o("p",[t._v("Not ideal, but without it the modal persists even when the route changes.")]),o("router-view"),o("x5-modals")],1)},i=[],r=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x5-modal",{attrs:{name:"double",buttons:"Cancel",permanent:"",title:"Double Modal"}},[n("h1",[t._v("Double Modal")]),n("button",{on:{click:t.openModal2}},[t._v("Open Second Modal")])])}),l=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x5-modal",{attrs:{name:"double2",buttons:"Cancel",permanent:"",title:"Double Modal the Second"}},[n("h1",[t._v("Double Modal the Second")]),n("button",{on:{click:t.openFullModal}},[t._v("Open Full Modal")])])},s=[],u={name:"DoubleModal2",methods:{openFullModal:function(){this.$x5.openModal("full",{},4)}}},d=u,p=n("2877"),h=Object(p["a"])(d,c,s,!1,null,null,null),f=h.exports,m={name:"DoubleModal",methods:{openModal2:function(){this.$x5.openModal("double2")}},mounted:function(){this.$x5.registerModal("double2",f)}},v=m,b=Object(p["a"])(v,r,l,!1,null,null,null),x=b.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x5-modal",{attrs:{loading:t.loading,valid:t.checked,buttons:"OKCancel",cancelText:"Don't Send",name:"full",okText:"Send",permanent:"",title:"Kitchen Sink",width:"800px","z-index":"10"}},[n("p",[t._v("Hokay so, what does this one have?")]),n("ul",[n("li",[t._v("A "),n("code",[t._v("title")]),t._v(' of "Kitchen Sink" that gives us the header bar')]),n("li",[t._v("It's "),n("code",[t._v("permanent")]),t._v("/persistant (try close it without the buttons)")]),n("li",[t._v("Being permanent/persistant also removes the close button ↗")]),n("li",[t._v("Set "),n("code",[t._v("max")]),t._v('-width of "800px" (default is "650px")')]),n("li",[n("code",[t._v("OKCancel")]),t._v(" buttons (OK and Cancel)")]),n("li",[n("code",[t._v("okText")]),t._v(' of "Send" and '),n("code",[t._v("cancelText")]),t._v(' of "Don\'t Send"')]),n("li",[t._v(" Can open other modals from an inline click command "),n("code",[t._v("@click=\"$x5.openModal('plain')\"")]),n("a",{on:{click:function(e){return t.$x5.openModal("plain")}}},[t._v("here")])]),n("li",[t._v("The "),n("code",[t._v("zIndex")]),t._v(' is set to "10" so it remains below the opened modal (default zIndex of "200")')]),n("li",[t._v("All modals have a "),n("code",[t._v("loading")]),t._v(" attribute: "),n("a",{on:{click:t.load}},[t._v("Try it")])]),n("li",[t._v("To enable the OK (Send) button the "),n("code",[t._v("valid")]),t._v(" attribute needs to be TRUE (check the checkbox)")]),n("li",[t._v(" You can also change properties on the fly using "),n("code",[t._v("$x5.editModal(name, options, data)")]),n("a",{on:{click:t.edit}},[t._v("like so")])])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var n=t.checked,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);o.checked?r<0&&(t.checked=n.concat([i])):r>-1&&(t.checked=n.slice(0,r).concat(n.slice(r+1)))}else t.checked=a}}}),n("label",{attrs:{for:"checkbox"}},[t._v("Validation: "+t._s(t.checked?"Now":"Not")+" ready to send")])])},_=[],k=(n("4795"),{name:"FullModal",data:function(){return{loading:!1,checked:!1}},methods:{load:function(){var t=this;this.loading=!0,setTimeout((function(){return t.loading=!1}),2e3)},edit:function(){this.$x5.editModal("full",{title:"Bathroom Sink"})}}}),y=k,M=Object(p["a"])(y,g,_,!1,null,null,null),O=M.exports,w={name:"Example-App",data:function(){return{dataOut:null,dataIn:null}},methods:{interactive:function(){var t=this;this.$x5.openModal("interactive",{},this.dataIn).then((function(e){t.dataOut=e}))}},created:function(){this.$x5.registerModal("double",x),this.$x5.registerModal("full",O),this.$x5.registerModal("interactive",(function(){return n.e("chunk-652dedfd").then(n.bind(null,"76d1"))})),this.$x5.registerModal("noButtons",(function(){return n.e("chunk-2d0c94eb").then(n.bind(null,"591b"))})),this.$x5.registerModal("plain",(function(){return n.e("chunk-2d0ba51d").then(n.bind(null,"3769"))})),this.$x5.registerModal("route",(function(){return n.e("chunk-2d0dd8bc").then(n.bind(null,"829e"))}))}},C=w,$=(n("a7e2"),Object(p["a"])(C,a,i,!1,null,null,null)),S=$.exports,T=n("2f62");o["a"].use(T["a"]);var E=new T["a"].Store({state:{},mutations:{},actions:{},modules:{}}),j=n("8c4f"),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Route A")]),n("router-link",{staticClass:"button",attrs:{tag:"button",to:"/b"}},[t._v("Goto Route B")])],1)},P=[],A={},K=Object(p["a"])(A,I,P,!1,null,null,null),B=K.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Route B")]),n("button",{staticClass:"button",on:{click:function(e){return t.$x5.openModal("route")}}},[t._v("Open Modal")])])},R=[],N={},z=Object(p["a"])(N,D,R,!1,null,null,null),V=z.exports;o["a"].use(j["a"]);var F=new j["a"]({mode:"history",base:"/x5-modal/",routes:[{path:"",alias:"/a",component:B},{path:"/b",component:V}],scrollBehavior:function(t,e,n){return t.hash?t.hash:n||{x:0,y:0}}}),L=F,q=(n("4de4"),n("7db0"),n("4160"),n("b0c0"),n("159b"),n("5530")),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:"z-index:"+t.zIndex},[n("transition-group",{attrs:{name:"x5-m-fade",mode:"out-in",tag:"div"}},t._l(t.modals,(function(t){return n(t.component,{key:t.name,tag:"component",attrs:{data:t.data}})})),1)],1)},H=[],J=(n("a9e3"),{name:"x5-M-Component",props:{zIndex:{type:[String,Number],default:200}},computed:{modals:function(){return this.$store.getters["x5/m/allOpen"]}}}),Y=J,U=Object(p["a"])(Y,G,H,!1,null,null,null),W=U.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"x5-m-wrapper "+(t.isActive?"x5-m-overlay":""),on:{click:function(e){return e.target!==e.currentTarget?null:t.onOverlay(e)}}},[n("div",{class:"x5-m-modal "+(this.attention?"x5-m-attention":""),style:"max-width:"+t.options.width},[t.options.title?n("div",{staticClass:"x5-m-header"},[n("div",{staticClass:"x5-m-title",domProps:{innerHTML:t._s(t.options.title)}}),t.options.permanent?t._e():n("span",{staticClass:"x5-m-close",on:{click:function(e){return e.target!==e.currentTarget?null:t.cancel(e)}}},[t._v("❌")])]):t._e(),n("div",{staticClass:"x5-m-content"},[t._t("default")],2),t.options.buttons?n("div",{staticClass:"x5-m-footer"},[t.showCancel?n("button",{attrs:{disabled:t.options.loading},on:{click:t.cancel}},[t._v(t._s(t._cancelText))]):t._e(),t.showOK?n("button",{staticClass:"x5-m-ok",attrs:{disabled:!t.options.valid||t.options.loading},on:{click:t.ok}},[t._v(" "+t._s(t.options.okText)+" ")]):t._e()]):t._e(),n("transition",{attrs:{name:"x5-m-fade"}},[t.options.loading?n("div",{staticClass:"x5-m-loading-wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.denyClose(e)}}},[n("div",{staticClass:"x5-m-loading"},[n("div",{staticClass:"x5-m-spinner"})])]):t._e()])],1)])},X=[],Z=(n("caad"),n("2532"),["OK","Cancel","OKCancel"]),tt={name:"x5-M-Component",props:{buttons:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"},cancelValue:{default:!1},keepOpen:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},name:{type:String,required:!0},okText:{type:String,default:"OK"},okValue:{default:!0},permanent:{type:Boolean,default:!1},title:{type:String,default:null},valid:{type:Boolean,default:!0},width:{type:String,default:"650px"}},data:function(){return{attention:!1}},computed:{modal:function(){var t=this;return this.$store.getters["x5/m/allOpen"].find((function(e){return e.name===t.name}))},options:function(){return this.modal?Object(q["a"])({},this.$props,{},this.modal.options):{}},_cancelText:function(){return"Cancel"===this.options.buttons&&"Cancel"===this.options.cancelText?"Close":this.options.cancelText},showCancel:function(){return this.options.buttons.includes("Cancel")},showOK:function(){return this.options.buttons.includes("OK")},isActive:function(){return this.$store.getters["x5/m/active"]===this.name}},methods:{close:function(t){this.$x5.closeModal(this.name,t)},cancel:function(){this.$emit("cancel"),this.options.keepOpen||this.close(this.options.cancelValue)},denyClose:function(){var t=this;this.attention=!0,setTimeout((function(){return t.attention=!1}),150)},onOverlay:function(){!this.isActive||this.options.loading||this.options.permanent?this.denyClose():this.cancel()},ok:function(){this.$emit("ok"),this.options.keepOpen||this.close(this.options.okValue)}},mounted:function(){if(this.options.buttons&&!Z.includes(this.options.buttons))throw new Error("Invalid buttons property '".concat(Z,"' used in x5Modal Plugin."))},beforeDestroy:function(){this.isActive&&this.$x5.closeModal(this.name)},watch:{$route:function(){this.options.keepOpen||this.$x5.closeModal(this.name)}}},et=tt,nt=Object(p["a"])(et,Q,X,!1,null,null,null),ot=nt.exports,at=(n("c740"),n("a434"),{namespaced:!0,state:{registered:{},open:[]},getters:{active:function(t){return t.open.length>0?t.open[t.open.length-1].name:null},allOpen:function(t){return t.open},allRegistered:function(t){return t.registered}},mutations:{OPEN:function(t,e){var n=e.name,o=e.options,a=e.data,i=e.resolve,r=t.registered[n];t.open.push({name:n,options:o,data:a,resolve:i,component:r})},EDIT:function(t,e){var n=e.name,o=e.options,a=e.data,i=t.open.findIndex((function(t){return t.name===n})),r=Object(q["a"])({},t.open[i].options,{},o),l=a||t.open[i].data;t.open.splice(i,1,Object(q["a"])({},t.open[i],{options:r,data:l}))},CLOSE:function(t,e){return t.open=t.open.filter((function(t){return t.name!==e}))},REGISTER:function(t,e){var n=e.name,o=e.component;return t.registered[n]=o}},actions:{register:function(t,e){var n=t.commit;return n("REGISTER",e)},open:function(t,e){var n=t.commit;return n("OPEN",e)},edit:function(t,e){var n=t.commit;return n("EDIT",e)},close:function(t,e){var n=t.commit;return n("CLOSE",e)}}}),it=at,rt=(n("8594"),function(t){}),lt=function(t,e){if(!e)throw new Error("A Vuex store is required by the x5Modal plugin");e.registerModule("x5/m",it),t.component("x5Modal",ot),t.component("x5Modals",W);var n=function(t,n){var o=!!e.getters["x5/m/allRegistered"][t];o&&rt("Modal '".concat(t,"' already registered; it will be replaced.")),e.dispatch("x5/m/register",{name:t,component:n})},o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!!e.getters["x5/m/allRegistered"][t];if(!a)return rt("Modal '".concat(t,"' not registered."));var i,r=!!e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(r)return rt("Modal '".concat(t,"' already open."));var l=new Promise((function(t){return i=t}));return e.dispatch("x5/m/open",{name:t,options:n,data:o,resolve:i}),l},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!!e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(!a)return rt("Modal '".concat(t,"' cannot be edited until it is open."));e.dispatch("x5/m/edit",{name:t,options:n,data:o})},i=function(t,n){t||(t=e.getters["x5/m/active"]);var o=e.getters["x5/m/allOpen"].find((function(e){return e.name===t}));if(!o)return rt("Modal '".concat(t,"' not found."));o.resolve(n),e.dispatch("x5/m/close",t)},r=function(){return e.getters["x5/m/allOpen"].filter((function(t){return!t.options.keepOpen})).forEach((function(t){rt("Modal '".concat(t.name,"' force closed.")),i(t.name)}))};t.prototype.$x5=Object(q["a"])({},t.prototype.$x5,{registerModal:n,openModal:o,editModal:a,closeModal:i,closeModals:r})};o["a"].use(lt,E),o["a"].config.productionTip=!1,new o["a"]({router:L,store:E,render:function(t){return t(S)}}).$mount("#app")}});
//# sourceMappingURL=index.0a5a88db.js.map